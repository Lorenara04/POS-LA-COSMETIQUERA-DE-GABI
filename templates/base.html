<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}POS COSMETIQUERA DE GABI{% endblock %}</title>

  <link rel="icon" type="image/png" href="{{ url_for('static', filename='img/LOGO.png') }}">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Iconos + Fuentes -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;800;900&display=swap" rel="stylesheet">

  <!-- Tus estilos -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

  <style>
    html, body {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
      background: #fff;
    }

    .content-wrapper {
      flex: 1;
      padding-bottom: 20px;
    }

    /* NAVBAR ESTILO COQUETTE NEGRA */
    .navbar-custom {
      background-color: #000;
      padding: 0.6rem 1.5rem;
      border-bottom: 3px solid #ff69b4;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.45);
    }

    /* Logo */
    .logo-barra {
      height: 55px !important;
      width: auto;
      object-fit: contain;
      transition: transform 0.25s ease;
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.5));
    }
    .logo-barra:hover {
      transform: scale(1.07);
    }

    /* T铆tulo */
    .titulo-logo {
      font-family: 'Playfair Display', serif;
      font-weight: 900;
      color: #fff;
      font-size: 1.25rem;
      letter-spacing: 0.5px;
    }

    /* Items del men煤 */
    .navbar-nav .nav-link {
      color: white !important;
      margin: 0 8px;
      font-weight: 500;
      transition: 0.3s;
      font-size: 0.95rem;
    }
    .navbar-nav .nav-link:hover {
      color: #ff69b4 !important;
      text-shadow: 0 0 8px rgba(255,105,180,0.6);
    }

    .nav-emoji {
      font-size: 1.1rem;
      margin-right: 5px;
    }

    /* Centrado del men煤 */
    .navbar-collapse {
      flex-grow: 1 !important;
    }
    .navbar-nav {
      margin-left: auto;
      margin-right: auto;
    }

    /* Footer */
    footer {
      background-color: #000;
      color: #fff;
      padding: 12px 0;
      text-align: center;
      margin-top: auto;
      font-size: 0.9rem;
      border-top: 3px solid #ff69b4;
    }
    footer a {
      color: #ffb6e1;
      font-weight: bold;
      text-decoration: none;
    }
    footer a:hover {
      text-decoration: underline;
      color: #fff;
    }

    /* Breadcrumb */
    .breadcrumb-item a {
      color: #ff69b4;
      text-decoration: none;
    }
    .breadcrumb-item a:hover {
      text-decoration: underline;
    }

    /* Fade In */
    .fade-in {
      animation: fadeIn 0.7s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    /* Card Principal */
    .main-card {
      background: white;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.08);
    }

    /* Responsive */
    @media (max-width: 576px) {
      .titulo-logo { display: none; }
      .logo-barra { height: 48px !important; }
    }
  </style>

</head>
<body>

{% if current_user.is_authenticated %}
<nav class="navbar navbar-expand-lg navbar-dark navbar-custom">
  <div class="container-fluid">

    <!-- LOGO + TTULO -->
    <a class="navbar-brand d-flex align-items-center" href="{{ url_for('dashboard') }}">
      <img src="{{ url_for('static', filename='img/LOGO.png') }}" class="logo-barra" alt="Logo">
      <span class="titulo-logo ms-2">LA COSMETIQUERA DE GABI</span>
    </a>

    <!-- BOTN RESPONSIVE -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- MEN -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">

        <li class="nav-item"><a class="nav-link" href="{{ url_for('inventario') }}"><span class="nav-emoji"></span>Inventario</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('clientes') }}"><span class="nav-emoji"></span>Clientes</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('nueva_venta') }}"><span class="nav-emoji"></span>Ventas Diarias</a></li>

        {% if current_user.rol.lower() in ['administrador', 'vendedora'] %}
        <li class="nav-item"><a class="nav-link" href="{{ url_for('reportes') }}"><span class="nav-emoji"></span>Cierre / Informes</a></li>
        {% endif %}

        {% if current_user.rol.lower() == 'administrador' %}
        <li class="nav-item"><a class="nav-link" href="{{ url_for('gestion_ventas') }}"><span class="nav-emoji"></span>Gesti贸n de Ventas</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('usuarios') }}"><span class="nav-emoji"></span>Gesti贸n de Usuarios</a></li>
        {% endif %}

      </ul>

      <span class="navbar-text text-white me-3">
        Hola, {{ current_user.username }}
        <span class="badge bg-light text-dark">{{ current_user.rol }}</span>
      </span>

      <a class="btn btn-primary btn-sm" href="{{ url_for('logout') }}">Cerrar Sesi贸n</a>

    </div>
  </div>
</nav>
{% endif %}

<!-- BREADCRUMB -->
<div class="container mt-3 fade-in">
  {% block breadcrumb %}
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{{ url_for('dashboard') }}">Inicio</a></li>
      <li class="breadcrumb-item active" aria-current="page">{% block page %}{% endblock %}</li>
    </ol>
  </nav>
  {% endblock %}
</div>

<!-- CONTENIDO -->
<div class="content-wrapper container fade-in">
  <div class="main-card">

    <!-- MENSAJES -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category if category != 'message' else 'info' }} alert-dismissible fade show">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div>Creado por: Lorena Rodriguez Ramos</div>
  <div>Email: <a href="mailto:lorenarodriguezr155@gmail.com">lorenarodriguezr155@gmail.com</a> 路 Tel: <a href="tel:+573222823687">3222823687</a></div>
  &copy; 2025 LA COSMETIQUERA DE GABI
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
{% block scripts %}{% endblock %}

</body>
</html>
